

<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jakhong League System 4.2 (Modified)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Kanit:ital,wght@0,300;0,400;0,600;0,800;1,800&display=swap" rel="stylesheet">

    <style>
        /* --- DYNAMIC THEME VARIABLES (NEW) --- */
        :root {
            --primary-color: #facc15; /* Default Yellow-400 (Accent) */
            --secondary-color: #1c365b; /* Default Dark Blue (Header/Base Gradient Start) */
            --theme-end: #0c1626;   /* Very Dark Blue (Fixed Background Base) */
        }
        body {
            font-family: 'Kanit', sans-serif;
            background-color: var(--theme-end);
            color: white;
            background-image: radial-gradient(circle at top right, #34050520 0%, transparent 40%),
                              radial-gradient(circle at bottom left, #1a1a1a 0%, transparent 50%);
        }
        /* --- UTILITY & CUSTOM STYLES --- */
        
        .tab-button.active {
            background-color: var(--primary-color);
            color: black;
            font-weight: 700;
        }

        .team-logo {
            width: 40px;
            height: 40px;
            object-fit: cover;
            border-radius: 50%;
            border: 2px solid white;
        }

        /* --- SCOREBOARD STYLES --- */
        .score-row {
            transition: all 0.3s ease-in-out;
            cursor: pointer;
        }
        .score-row:hover {
            background-color: #1f2937;
        }
        .rank-tag {
            background-color: var(--primary-color);
            color: black;
            font-weight: 800;
            width: 28px;
            height: 28px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }

        /* --- PLAYER CARD STYLES --- */
        .player-card {
            background-color: #1f2937;
            border-radius: 8px;
            padding: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
            transition: transform 0.2s;
        }
        .player-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
        }
        .player-photo {
            width: 60px;
            height: 60px;
            object-fit: cover;
            border-radius: 50%;
            border: 3px solid var(--primary-color);
        }

        /* --- TOP SCORER/DAILY SCORER STYLES --- */
        .top-scorer-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
            gap: 15px;
        }
        .scorer-card {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 10px;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.4);
            transition: transform 0.2s;
        }
        .scorer-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 10px rgba(0, 0, 0, 0.5);
        }

        /* --- START: MODIFIED SCORER STYLES (NEW) --- */
        /* Custom Rank Tag & Photo Wrapper Styles */
        .scorer-photo-wrapper {
            position: relative;
            width: 100%;
            height: auto;
            aspect-ratio: 3/4; /* Match image aspect */
            overflow: hidden;
            border-radius: 8px; /* Match image border-radius */
            margin-bottom: 0.5rem;
        }
        
        .scorer-card-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 8px;
            /* ** สำคัญ: Border Color จะถูกกำหนดด้วย JS ผ่าน style attribute ** */
            border: 3px solid transparent; 
            margin-bottom: 0; 
            aspect-ratio: 3/4;
        }

        /* Scorer Rank Tag (Adjusted Position: TOP-LEFT) */
        .scorer-rank-tag {
            position: absolute;
            top: -10px; /* Pull it slightly out of the top border */
            left: -10px; /* Pull it slightly out of the left border */
            transform: none; /* Remove center transform */
            background: #4b5563; /* Default gray/dark */
            color: white;
            font-size: 1rem;
            font-weight: 900;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            border: 3px solid black;
            z-index: 30; /* Higher Z-index to be on top of image and frame */
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.5);
        }

        /* Rank Colors (Gold, Silver, Bronze) */
        .rank-gold { background: #FFD700; color: #000; border-color: #FFF; }
        .rank-silver { background: #C0C0C0; color: #000; border-color: #FFF; }
        .rank-bronze { background: #CD7F32; color: #FFF; border-color: #FFF; }
        /* --- END: MODIFIED SCORER STYLES (NEW) --- */


        .today-scorer-num-tag {
            position: absolute;
            top: 5px; 
            right: 5px; 
            background-color: var(--primary-color);
            color: black;
            font-weight: 800;
            font-size: 0.8rem;
            padding: 2px 6px;
            border-radius: 9999px;
            border: 2px solid white;
            z-index: 20;
        }

        /* --- START: DAILY SUMMARY SCORE STYLES (FIXED: Score Overlap) --- */
        .daily-score-box {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            font-weight: 900;
            width: 60px; /* Width of the score display box */
            text-align: center;
        }
        .daily-score-text {
            font-size: 0.75rem;
            font-weight: 400;
            color: #ccc;
            line-height: 1;
        }
        /* FIX: กำหนดความกว้างขั้นต่ำของพื้นหลังสกอร์ */
        .daily-score-number {
            padding: 0 0.5rem;
            border-radius: 6px;
            line-height: 1;
            z-index: 10;
            min-width: 40px; /* NEW: กำหนดความกว้างขั้นต่ำเพื่อให้พื้นหลังสกอร์เท่ากัน */
            text-align: center; 
        }
        /* --- END: DAILY SUMMARY SCORE STYLES (FIXED: Score Overlap) --- */

        /* ... [ส่วน CSS อื่นๆ ที่มีอยู่เดิม] ... */

    </style>
</head>
<body>
    <div class="container mx-auto p-4 max-w-7xl">
        <div id="daily-header" class="p-4 rounded-lg shadow-2xl border-b-4" style="background: linear-gradient(to right, #1c365b, #0c1626); border-color: #facc15;">
            <div class="flex items-center justify-between">
                <div class="flex items-center gap-4">
                    <img id="daily-logo-img" src="" class="w-12 h-12 object-cover rounded-full border-2" style="border-color: #facc15;" alt="Logo">
                    <h1 id="daily-title-edit" class="text-2xl font-extrabold" style="color: #facc15;">
                        สรุปผลการแข่งขัน Jakhong System
                    </h1>
                </div>
                <button onclick="document.getElementById('settings-modal').classList.remove('hidden')" class="text-white hover:text-gray-300 transition duration-150">
                    <i class="fas fa-cog text-xl"></i>
                </button>
            </div>
            
            <div id="daily-controls" class="mt-4 p-3 bg-gray-800 rounded-md shadow-inner">
                <h4 class="text-sm font-semibold mb-2 text-gray-400 border-b border-gray-700 pb-1">ควบคุมการแสดงผลและสี</h4>
                <div class="flex gap-4 mb-3 items-end">
                    <div class="flex flex-col">
                        <label class="text-xs text-gray-400 block mb-1">วันที่ต้องการแสดง</label>
                        <input type="date" id="daily-date" class="bg-gray-700 text-white p-1 rounded text-sm w-40" onchange="renderDaily()">
                    </div>
                    <div class="flex flex-col">
                        <label class="text-xs text-gray-400 block mb-1">เรียงดาวซัลโวตาม</label>
                        <select id="daily-scorer-sort" class="bg-gray-700 text-white p-1 rounded text-sm w-40" onchange="renderDaily()">
                            <option value="goals">จำนวนประตู</option>
                            <option value="name">ชื่อ (ก-ฮ)</option>
                        </select>
                    </div>
                    <div class="flex items-end gap-3 text-sm flex-wrap">
                        <label class="flex items-center text-gray-300 cursor-pointer">
                            <input type="checkbox" id="daily-show-matches" checked onchange="renderDaily()" class="form-checkbox h-4 w-4 text-yellow-400 bg-gray-700 border-gray-600 rounded">
                            <span class="ml-2">แสดงสรุปผล</span>
                        </label>
                        <label class="flex items-center text-gray-300 cursor-pointer">
                            <input type="checkbox" id="daily-show-top-scorers" checked onchange="renderDaily()" class="form-checkbox h-4 w-4 text-yellow-400 bg-gray-700 border-gray-600 rounded">
                            <span class="ml-2">แสดงดาวซัลโว</span>
                        </label>
                        <label class="flex items-center text-gray-300 cursor-pointer">
                            <input type="checkbox" id="daily-show-today-scorers" checked onchange="renderDaily()" class="form-checkbox h-4 w-4 text-yellow-400 bg-gray-700 border-gray-600 rounded">
                            <span class="ml-2">แสดงคนทำประตูวันนี้</span>
                        </label>
                    </div>
                </div>

                <div class="flex gap-2 mb-3 border-t border-gray-700 pt-3">
                    <h5 class="text-sm font-medium mb-1 text-gray-400 w-full">สีหลัก (Header/Score)</h5>
                </div>
                <div class="flex gap-2 mb-3">
                    <div><label class="text-xs text-gray-400 block mb-1">สีสกอร์ 1</label><input type="color" id="daily-score-grad-1" value="#facc15" class="w-8 h-8 rounded cursor-pointer" oninput="renderDaily()"></div>
                    <div><label class="text-xs text-gray-400 block mb-1">สีสกอร์ 2</label><input type="color" id="daily-score-grad-2" value="#eab308" class="w-8 h-8 rounded cursor-pointer" oninput="renderDaily()"></div>
                    <div><label class="text-xs text-gray-400 block mb-1">อักษรสกอร์</label><input type="color" id="daily-score-text" value="#1f2937" class="w-8 h-8 rounded cursor-pointer" oninput="renderDaily()"></div>
                </div>
                <div class="flex gap-2">
                    <div><label class="text-xs text-gray-400 block mb-1">แบนเนอร์ 1</label><input type="color" id="daily-banner-grad-1" value="#1c365b" class="w-8 h-8 rounded cursor-pointer" oninput="renderDaily()"></div>
                    <div><label class="text-xs text-gray-400 block mb-1">แบนเนอร์ 2</label><input type="color" id="daily-banner-grad-2" value="#0c1626" class="w-8 h-8 rounded cursor-pointer" oninput="renderDaily()"></div>
                    <div><label class="text-xs text-gray-400 block mb-1">อักษรแบนเนอร์</label><input type="color" id="daily-banner-text" value="#facc15" class="w-8 h-8 rounded cursor-pointer" oninput="renderDaily()"></div>
                    <div><label class="text-xs text-gray-400 block mb-1">ขอบแบนเนอร์</label><input type="color" id="daily-banner-border" value="#facc15" class="w-8 h-8 rounded cursor-pointer" oninput="renderDaily()"></div>
                </div>
                
                <div class="flex gap-2 mt-3 border-t border-gray-700 pt-3">
                    <h5 class="text-sm font-medium mb-1 text-gray-400 w-full">สีรายละเอียดนักเตะ (ดาวซัลโว/ทำประตูวันนี้)</h5>
                </div>
                <div class="flex gap-2">
                    <div><label class="text-xs text-gray-400 block mb-1">สีพื้นการ์ด</label><input type="color" id="daily-card-bg" value="#1f2937" class="w-8 h-8 rounded cursor-pointer" oninput="renderDaily()"></div>
                    <div><label class="text-xs text-gray-400 block mb-1">สีหัวข้อ/แบนเนอร์ดาว</label><input type="color" id="daily-scorer-banner-bg" value="#1c365b" class="w-8 h-8 rounded cursor-pointer" oninput="renderDaily()"></div>
                    <div><label class="text-xs text-gray-400 block mb-1">สีอักษรรายละเอียด</label><input type="color" id="daily-detail-text" value="#ffffff" class="w-8 h-8 rounded cursor-pointer" oninput="renderDaily()"></div>
                    <div><label class="text-xs text-gray-400 block mb-1">สีกรอบรูป</label><input type="color" id="daily-frame-color" value="#ffffff" class="w-8 h-8 rounded cursor-pointer" oninput="renderDaily()"></div>
                </div>
                </div>
        </div>

        <div id="daily-content" class="mt-4 p-4 rounded-lg shadow-xl" style="background-color: #0c1626;">

            <div id="daily-matches-section">
                <h3 class="text-center font-bold text-xl uppercase mb-4 border-b border-gray-700 pb-2">
                    สรุปผลการแข่งขัน
                </h3>
                <div id="daily-matches" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    </div>
            </div>
            
            <div class="grid grid-cols-1 mt-4">
    
                <div id="top-scorer-section" class="p-4 border-b border-gray-700 flex flex-col" style="background-color: #1c365b;"> 
                    <h3 class="text-center font-bold text-yellow-400 uppercase text-lg mb-4 border-b border-gray-700 pb-2">
                        <span id="daily-scorer-header" style="color: #ffffff;">ดาวซัลโวสูงสุด (Top 5)</span>
                    </h3>
                    <div id="daily-top-scorers" class="top-scorer-grid">
                        </div>
                </div>

                <div id="today-scorer-section" class="p-4" style="background-color: #1c365b;">
                    <h3 class="text-center font-bold text-green-400 uppercase text-lg mb-4 border-b border-gray-700 pb-2" style="color: #ffffff;">
                        ผู้ที่ทำประตูวันนี้
                    </h3>
                    <div id="daily-today-scorers" class="top-scorer-grid">
                        </div>
                </div>
            </div>
        </div>

        </div>

    <script>
        // --- DATA STRUCTURES (Assume they exist or initialize as empty) ---
        let teams = [];
        let players = [];
        let matches = [];
        let stats = [];
        let schedules = [];
        let globalLogo = "https://i.ibb.co/5c0YV9c/Jakhong-Logo.png";
        let themeName = 'JAKHONG SYSTEM';
        let themeColor = '#facc15';
        let secondaryColor = '#1c365b';
        let isDarkMode = true;

        // ... [ฟังก์ชัน load(), save(), exportData(), importData(), formatDate() ที่มีอยู่เดิม] ...
        // ** ต้องมั่นใจว่าฟังก์ชันเหล่านี้มีอยู่ในโค้ดต้นฉบับของท่าน **

        // --- MAIN RENDER FUNCTION (MODIFIED) ---
        function renderDaily() {
            const date = document.getElementById('daily-date').value;
            const sortKey = document.getElementById('daily-scorer-sort').value;

            // Visibility checks
            const showMatches = document.getElementById('daily-show-matches').checked;
            const showTopScorers = document.getElementById('daily-show-top-scorers').checked;
            const showTodayScorers = document.getElementById('daily-show-today-scorers').checked;

            document.getElementById('daily-matches-section').style.display = showMatches ? 'block' : 'none';
            document.getElementById('top-scorer-section').style.display = showTopScorers ? 'flex' : 'none';
            document.getElementById('today-scorer-section').style.display = showTodayScorers ? 'block' : 'none';

            // --- Color Retrievals (Existing) ---
            const cGrad1 = document.getElementById('daily-banner-grad-1').value;
            const cGrad2 = document.getElementById('daily-banner-grad-2').value;
            const cText = document.getElementById('daily-banner-text').value;
            const cBorder = document.getElementById('daily-banner-border').value;
            const cScoreGrad1 = document.getElementById('daily-score-grad-1').value;
            const cScoreGrad2 = document.getElementById('daily-score-grad-2').value;
            const cScoreText = document.getElementById('daily-score-text').value;

            // --- NEW: Scorer Card & Detail Colors ---
            const cCardBg = document.getElementById('daily-card-bg').value;
            const cScorerBannerBg = document.getElementById('daily-scorer-banner-bg').value;
            const cDetailText = document.getElementById('daily-detail-text').value;
            const cFrameColor = document.getElementById('daily-frame-color').value;

            // 1. Banner Styles & Scorer Section Background
            const headerEl = document.getElementById('daily-header');
            headerEl.style.background = `linear-gradient(to right, ${cGrad1}, ${cGrad2})`;
            headerEl.style.borderColor = cBorder;
            document.getElementById('daily-title-edit').style.color = cText;
            document.getElementById('daily-logo-img').style.borderColor = cBorder;
            document.getElementById('daily-logo-img').src = globalLogo;
            document.getElementById('daily-title-edit').innerText = `สรุปผลการแข่งขัน ${formatDate(date)} ${themeName}`;

            // Apply custom background/text color to Scorer Headers
            document.getElementById('top-scorer-section').style.backgroundColor = cScorerBannerBg;
            document.getElementById('top-scorer-section').querySelector('h3').style.color = cDetailText;
            document.getElementById('daily-scorer-header').style.color = cDetailText; // Ensure span text also changes

            document.getElementById('today-scorer-section').style.backgroundColor = cScorerBannerBg;
            document.getElementById('today-scorer-section').querySelector('h3').style.color = cDetailText;

            // 2. Matches List (Summary)
            const dailyMatchesCont = document.getElementById('daily-matches');
            const filteredMatches = matches.filter(m => m.date === date && m.scoreA !== null);

            dailyMatchesCont.innerHTML = filteredMatches.map(m => {
                const teamA = teams.find(t => t.id === m.teamAId);
                const teamB = teams.find(t => t.id === m.teamBId);
                const scoreA = m.scoreA !== null ? m.scoreA : '-';
                const scoreB = m.scoreB !== null ? m.scoreB : '-';
                const scoreStyle = `background: linear-gradient(to right, ${cScoreGrad1}, ${cScoreGrad2}); color: ${cScoreText};`;

                return `
                <div class="flex justify-between items-center p-3 rounded-lg shadow-md" style="background-color: ${cCardBg};">
                    <div class="flex items-center gap-3 w-1/3">
                        <img src="${teamA?.logo || ''}" class="team-logo" alt="${teamA?.name || 'A'} Logo">
                        <span class="font-medium truncate" style="color: ${cDetailText};">${teamA?.name || 'ทีม A'}</span>
                    </div>
                    
                    <div class="daily-score-box mx-4">
                        <div class="flex items-center gap-1">
                            <span class="daily-score-number" style="${scoreStyle}">${scoreA}</span>
                            <span class="text-2xl font-bold text-gray-400">-</span>
                            <span class="daily-score-number" style="${scoreStyle}">${scoreB}</span>
                        </div>
                        <span class="daily-score-text">${m.status === 'FT' ? 'FT' : 'เล่นแล้ว'}</span>
                    </div>

                    <div class="flex items-center gap-3 justify-end w-1/3 text-right">
                        <span class="font-medium truncate" style="color: ${cDetailText};">${teamB?.name || 'ทีม B'}</span>
                        <img src="${teamB?.logo || ''}" class="team-logo" alt="${teamB?.name || 'B'} Logo">
                    </div>
                </div>`;
            }).join('') || '<p class="text-center text-gray-500 py-4 col-span-full">ไม่มีสรุปผลการแข่งขันในวันนี้</p>';

            // 3. Top Scorers (Vertical/Grid)
            const topScorersCont = document.getElementById('daily-top-scorers');
            const allScorers = players.map(p => ({
                ...p,
                goals: stats.filter(s => s.playerId === p.id && s.statType === 'goals').reduce((sum, s) => sum + s.value, 0)
            })).filter(p => p.goals > 0);

            let sortedData = [];
            if (sortKey === 'goals') {
                sortedData = allScorers.sort((a, b) => b.goals - a.goals || a.name.localeCompare(b.name)).slice(0, 5);
            } else {
                sortedData = allScorers.sort((a, b) => a.name.localeCompare(b.name)).slice(0, 5);
            }

            // Assign rank after sorting by goals
            sortedData = sortedData.map((d, index) => ({...d, rank: index + 1}));


            topScorersCont.innerHTML = sortedData.map((data) => {
                const t = teams.find(x => x.id == data.teamId);
                
                // --- Rank Color Logic (NEW) ---
                let rankClass = '';
                if (data.rank === 1) rankClass = 'rank-gold';
                else if (data.rank === 2) rankClass = 'rank-silver';
                else if (data.rank === 3) rankClass = 'rank-bronze';

                // --- Custom Styles (NEW) ---
                const cardStyle = `background-color: ${cCardBg};`;
                const nameStyle = `color: ${cDetailText};`;
                const teamStyle = `color: ${cDetailText}99;`; // Opacity for detail text
                // Apply frame color to the image border
                const imageBorderStyle = `border-color: ${cFrameColor};`; 
                const goalStyle = `background: linear-gradient(to right, ${cScoreGrad1}, ${cScoreGrad2}); color: ${cScoreText};`;

                return `
                <div class="scorer-card" style="${cardStyle}">
                    <div class="scorer-photo-wrapper">
                        <div class="scorer-rank-tag ${rankClass}">${data.rank}</div>
                        <img src="${data.img || ''}" class="scorer-card-img" style="${imageBorderStyle}" alt="${data.name}"> 
                    </div>
                    <div class="mt-2 w-full">
                        <div class="font-bold text-sm truncate" style="${nameStyle}">${data.name} (#${data.number||'-'})</div>
                        <div class="text-xs truncate mb-2" style="${teamStyle}">${t?.name || 'ไม่ระบุทีม'}</div>
                        <div class="font-black text-2xl leading-tight inline-block px-3 py-1 rounded shadow-md" style="${goalStyle}">
                            ${data.goals} <span class="text-xs font-normal">ประตู</span>
                        </div>
                    </div>
                </div>`;
            }).join('') || '<p class="text-center text-gray-500 py-4 col-span-full">ไม่มีข้อมูลดาวซัลโว</p>';


            // 4. Scorers Today (Horizontal Grid)
            const todayScorersCont = document.getElementById('daily-today-scorers');
            const todayStats = stats.filter(s => s.statType === 'goals' && s.date === date);
            
            const groupedScorers = todayStats.reduce((acc, current) => {
                const existing = acc.find(item => item.playerId === current.playerId);
                if (existing) {
                    existing.goalsToday += current.value;
                } else {
                    const player = players.find(p => p.id === current.playerId);
                    const team = teams.find(t => t.id === player?.teamId);
                    acc.push({
                        playerId: current.playerId,
                        name: player?.name || 'Unknown Player',
                        number: player?.number,
                        img: player?.img,
                        teamName: team?.name || 'Unknown Team',
                        goalsToday: current.value
                    });
                }
                return acc;
            }, []).sort((a, b) => b.goalsToday - a.goalsToday);

            todayScorersCont.innerHTML = groupedScorers.map((data) => {
                // --- Custom Styles (NEW) ---
                const cardStyle = `background-color: ${cCardBg};`;
                const nameStyle = `color: ${cDetailText};`;
                const teamStyle = `color: ${cDetailText}99;`;
                const imageBorderStyle = `border-color: ${cFrameColor};`; 
                const goalStyle = `background: linear-gradient(to right, ${cScoreGrad1}, ${cScoreGrad2}); color: ${cScoreText};`;
                // Using custom colors for the Today Goals Tag (Top Right)
                const todayScoreTagStyle = `background: ${cScorerBannerBg}; color: ${cDetailText}; border-color: ${cFrameColor}; right: 5px; left: auto; top: 5px;`; 

                return `
                <div class="scorer-card" style="${cardStyle}">
                    <div class="scorer-photo-wrapper">
                        <div class="today-scorer-num-tag" style="${todayScoreTagStyle}">${data.goalsToday}</div>
                        <img src="${data.img || ''}" class="scorer-card-img" style="${imageBorderStyle}" alt="${data.name}"> 
                    </div>
                    <div class="mt-2 w-full">
                        <div class="font-bold text-sm truncate" style="${nameStyle}">${data.name} (#${data.number||'-'})</div>
                        <div class="text-xs truncate mb-2" style="${teamStyle}">${data.teamName || 'ไม่ระบุทีม'}</div>
                        <div class="font-black text-2xl leading-tight inline-block px-3 py-1 rounded shadow-md" style="${goalStyle}">
                            ${data.goalsToday} <span class="text-xs font-normal">ประตู</span>
                        </div>
                    </div>
                </div>`;
            }).join('') || '<p class="text-center text-gray-500 py-4 col-span-full">ไม่มีนักเตะทำประตูในวันนี้</p>';

        }

        // Initialize date picker to today and render
        document.addEventListener('DOMContentLoaded', () => {
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('daily-date').value = today;
            // load(); // Assume load() exists and loads data from localStorage
            // renderDaily(); // Call render once data is loaded
        });

        // ... [ฟังก์ชันอื่นๆ ที่มีอยู่เดิม] ...

    </script>
</body>
</html>
